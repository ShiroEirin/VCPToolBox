[English](README_en.md) | [日本語](README_ja.md) | [Русский](README_ru.md)

---
# VCP (Variable & Command Protocol) - AI機能強化ミドルウェアツールボックス

## プロジェクトビジョン

VCPは、従来のAIインタラクションモードを超越するミドルウェアレイヤーの構築を目指しています。これは、高度に互換性があり、汎用的で、拡張可能なツールボックスであり、AIモデルが外部API、サービス、およびカスタムロジックとシームレスに連携できるようにすることに専念しています。私たちの目標は、ほぼすべてのAPIポートとクライアントに適用可能な強力なVCP (Variable & Command Protocol) システムを作成し、AIの応用範囲を大幅に拡大することです。

### *警告：回復不能な情報漏洩を避けるため、非公式API（リバースプロキシ仲介業者など）を使用してこのツールボックスを呼び出さないでください。*

## コア機能

*   **強力なプラグインアーキテクチャ**: よく定義されたプラグインマニフェスト (`plugin-manifest.json`) とコアプラグインマネージャー (`Plugin.js`) を通じて、さまざまな機能モジュールを簡単に統合および管理できます。
*   **VCPプロトコル**: AIは、応答に特定の形式の命令 (`<<<[TOOL_REQUEST]>>> ... <<<[END_TOOL_REQUEST]>>>`) を埋め込むことでプラグインを呼び出します。パラメータは `key:「始」value「末」` 形式を使用し、複雑なデータ型と複数行のテキストをサポートします。
*   **複数のプラグインタイプのサポート**:
    *   **静的プラグイン (`static`)**: システムプロンプトのプレースホルダーを置き換えるための動的情報（天気、カスタムデータなど）を提供し、定期的な更新をサポートします。
    *   **メッセージプリプロセッサプラグイン (`messagePreprocessor`)**: ユーザーリクエストがAIモデルに送信される前に、メッセージコンテンツを変更または強化します（画像認識と説明など）。
    *   **同期プラグイン (`synchronous`)**: AIは会話中にこれらのプラグインを呼び出して特定のタスクを実行できます（科学計算、画像生成、ビデオ生成など）。サーバーはプラグインの実行完了を待ち、結果（特定のJSON形式に従う必要があります）をAIにフィードバックして後続の処理を行います。
    *   **サービスプラグイン (`service`)**: プラグインがメインアプリケーションに独立したHTTPルートを登録することを許可し、追加のサービスインターフェースを提供します（画像ホスティングサービスなど）。
*   **柔軟な設定管理**: グローバル設定ファイル (`config.env`) およびプラグイン固有の `.env` ファイルをサポートし、階層的で分離された設定を実現します。
*   **ユニバーサル変数置換**: AIとのインタラクションのさまざまな段階（システムプロンプト、ユーザーメッセージ）で、事前に定義されたプレースホルダー変数を自動的に置き換えます。
*   **組み込みユーティリティ機能（一部プラグイン化済み）**:
    *   **日記/記憶システム**: `DailyNoteGet`（静的プラグイン）を介して定期的に日記コンテンツを読み込み、`DailyNoteWrite`（同期プラグイン）を介してAIが生成した構造化された日記を保存します。関連コンテンツは `{{キャラクター名日记本}}` プレースホルダーを介してプロンプトに注入され、そのデータソースは `DailyNoteGet` プラグインによって `{{AllCharacterDiariesData}}` プレースホルダーを介してサーバー内部で使用するために提供されます。
    *   **動的絵文字システム**: `EmojiListGenerator`（静的プラグイン）は `image/` ディレクトリをスキャンし、そのプラグインディレクトリ内に絵文字リストの `.txt` ファイルを生成します。サーバーは起動時にこのプラグインを実行し、これらのリストをメモリキャッシュにロードして `{{xx表情包}}` および `{{EmojiList}}` プレースホルダーで使用します。
    *   **プロンプト変換**: ルールベースのシステムプロンプトとグローバルコンテキストテキスト置換をサポートします。
*   **ツール呼び出しループ**:
    *   **非ストリーミングモード**: 単一のAI応答に含まれる**複数の**ツール呼び出し命令のループ処理と結果フィードバックを実装しており、これ以上ツール呼び出しがないか、最大ループ回数に達するまで続行します。
    *   **ストリーミングモード (SSE)**: 単一のAI応答に含まれる**複数の**ツール呼び出し命令のループ処理と結果フィードバックを実装しています。AIの応答とVCPツールの呼び出し結果（`SHOW_VCP_OUTPUT` 環境変数が `true` に設定されている場合）は、これ以上ツール呼び出しがないか、最大ループ回数に達するまでクライアントに段階的にストリーミングされます。
*   **Web管理パネル**: サーバー設定、プラグインステータス、プラグイン設定、コマンド説明、および日記ファイルを便利に管理するための組み込みWebインターフェースを提供します。
*   **デバッグとロギング**: デバッグモードと詳細なロギングを提供し、開発と問題解決を容易にします。

## システムアーキテクチャ概要

1.  **クライアントリクエスト**: クライアントはVCPサーバーの `/v1/chat/completions` エンドポイントにリクエストを送信します。
2.  **`server.js` (コアサーバー)**:
    *   リクエストを受信し、初期処理（認証、変数置換など）を行います。
    *   `messagePreprocessor` プラグイン（`ImageProcessor`など）を呼び出してユーザーメッセージを処理します。
    *   処理されたリクエストをバックエンドAIモデルに転送します。
3.  **AIモデル応答**: AIモデルが応答を返します。
4.  **`server.js` によるAI応答の処理とツールループの実行**:
    *   AI応答にVCPツール呼び出し命令 (`<<<[TOOL_REQUEST]>>>`) が含まれているかどうかを検出します。
    *   **ツール呼び出しが含まれている場合**:
        *   命令を解析し、ツール名とパラメータを抽出します。
        *   **ループでツールを実行**: 解析された各ツール呼び出しに対して、`PluginManager` を呼び出して対応する `synchronous` プラグインを実行します。
        *   **プラグイン結果の処理**: `PluginManager` はプラグインを実行し、JSON形式の出力を受け取ります。
        *   **二次AI呼び出し**: すべてのツールの実行結果をフォーマットし、新しいユーザーメッセージとして会話履歴に追加します。プラグイン結果を含む完全な会話履歴を送信するために、バックエンドAIモデルを再度呼び出します。
        *   AI応答にツール呼び出し命令が含まれなくなるか、最大ループ回数に達するまでステップ4を繰り返します。
    *   **AI応答にツール呼び出しが含まれていない場合**:
        *   `SHOW_VCP_OUTPUT` が有効になっている場合、ツールの実行プロセスと結果（発生した場合）をAIの最終応答とともにクライアントに返します。
        *   AIの最終応答をストリーミングまたは非ストリーミングでクライアントに返します。
    *   **日記処理**: AI応答に構造化された日記ブロック (`<<<DailyNoteStart>>>...<<<DailyNoteEnd>>>`) が含まれている場合、コンテンツを解析し、`DailyNoteWrite` プラグインを呼び出して保存します。
5.  **`Plugin.js` (プラグインマネージャー)**:
    *   サーバー起動時にプラグインマニフェストをロードし、`static` および `service` プラグインを初期化します。
    *   ツール名に基づいてロードされたプラグインを検索します。
    *   プラグインの実行環境と設定を準備します（グローバル設定とプラグイン固有設定のマージを含む）。
    *   `stdio`（または他のプロトコル）を介してプラグインスクリプトと連携し、入力（JSONパラメータなど）を送信し、出力（`{status, result/error}` JSON形式に従う必要があります）を受信します。
    *   プラグインの実行結果を `server.js` に返します。
6.  **静的プラグインとサービスプラグイン**:
    *   `static` プラグインは、サーバー起動時および/またはスケジュールされたタスクを介して `PluginManager` によって呼び出され、プレースホルダー変数（`{{VCPWeatherInfo}}`、`{{AllCharacterDiariesData}}`、`{{xx表情包}}` リストデータなど）を更新します。
    *   `service` プラグイン（`ImageServer`など）は、サーバー起動時に `PluginManager` によって初期化され、Expressアプリケーションに独自のルート（`/pw=.../images/`など）を登録します。
7.  **Web管理パネル**: `/admin_api` エンドポイントと `routes/adminPanelRoutes.js` で定義されたバックエンドと連携し、設定、プラグイン、および日記管理機能を提供します。

## Web管理パネル

ユーザーがサーバー設定、プラグイン、および日記データを簡単に管理できるようにするため、プロジェクトには機能豊富な組み込みWeb管理パネルが含まれています。

**主な機能**:

*   **メイン設定管理**:
    *   プロジェクトルートディレクトリにある `config.env` ファイルの内容のオンラインプレビューと編集。
    *   ブール、整数、複数行文字列など、さまざまなタイプの構成項目の編集をサポートします。
    *   **注意**: セキュリティ上の理由から、管理インターフェースはメイン設定を表示する際に `AdminUsername` および `AdminPassword` フィールドを自動的に非表示にします。保存時、システムは変更したコンテンツとサーバー上の元の機密フィールド値をマージして、資格情報が失われないようにします。
    *   **重要**: `config.env` への変更を保存した後、すべての変更（ポート、APIキー、プラグイン固有の設定など）を完全に有効にするには、**通常、サーバーを手動で再起動する必要があります**。サーバーは現在自動的に再起動しません。
*   **プラグイン管理**:
    *   **リストとステータス**: `Plugin/` ディレクトリ内のすべての検出されたプラグイン、その有効/無効ステータス、バージョン、および説明を表示します。
    *   **説明編集**: 各プラグインの `plugin-manifest.json` ファイル内のメイン説明情報をインターフェースで直接編集します。
    *   **プラグインの有効化/無効化**: インターフェーススイッチを介してプラグインの有効ステータスを切り替えます（プラグインの `plugin-manifest.json` を `plugin-manifest.json.block` に名前変更するか、その逆を行うことで実装されます）。
    *   **プラグイン設定**: 各プラグインディレクトリ（存在する場合）にある `config.env` ファイルを読み取り、編集します。プラグインマニフェストの `configSchema` で定義された設定項目、およびカスタム設定項目の編集をサポートします。
    *   **コマンド説明編集**: `invocationCommands` 機能を持つ同期プラグインの場合、インターフェースで各コマンドのAIコマンド説明を直接編集できます。これらの説明は、`PluginManager` によって `{{VCPPluginName}}` プレースホルダーコンテンツを生成するために使用されます。
*   **日記管理**:
    *   `dailynote/` ディレクトリ内のすべてのキャラクターフォルダを閲覧します。
    *   各フォルダ内の日記ファイルリスト（ファイル名、変更時刻を含む）を表示し、コンテンツのプレビューを一部表示します。
    *   キーワードによる日記コンテンツの検索をサポートし、すべてのフォルダまたは指定されたフォルダで検索できます。
    *   日記ファイルコンテンツのオンライン編集と保存。
    *   選択した日記を他のフォルダに一括移動。
    *   選択した日記ファイルを一括削除。
*   **サーバー再起動**: サーバー再起動コマンドを送信するためのボタンを提供します（PM2などの外部プロセスマネージャーに依存します）。

**アクセスとログイン**:

1.  **資格情報の設定**: 初めて使用する前に、プロジェクトルートディレクトリの `config.env` ファイルに次の2つの変数が設定されていることを確認してください。
    ```env
    AdminUsername=your_admin_username
    AdminPassword=your_admin_password
    ```
    **重要**: `AdminUsername` または `AdminPassword` が設定されていない場合、管理パネルとその `/admin_api` エンドポイントはアクセスできなくなり、503 Service Unavailable エラーが返されます。管理パネルを有効にするには、これらの資格情報を設定する必要があります。デフォルトのアカウントはadmin、パスワードは123456です。
2.  **アクセスアドレス**: サーバー起動後、ブラウザで `http://<お使いのサーバーIPまたはドメイン>:<ポート>/AdminPanel` にアクセスします。
3.  **ログイン**: ブラウザにHTTP Basic Auth認証ウィンドウが表示されます。`config.env` で設定した `AdminUsername` と `AdminPassword` を入力してログインしてください。デフォルトのアカウントはadmin、パスワードは123456です。

## 実装済みプラグイン例

*   **`WeatherReporter` (`static`)**: 天気情報を取得してキャッシュし、`{{VCPWeatherInfo}}` 変数で使用します。
*   **`ImageProcessor` (`messagePreprocessor`)**: ユーザーメッセージ内のBase64画像を自動的にテキスト説明に変換し、キャッシュします。
*   **`SciCalculator` (`synchronous`)**: 科学計算機能を提供し、数学関数、統計、微積分をサポートします。
*   **`ImageServer` (`service`)**: キー認証付きの静的画像ホスティングサービスを提供します。
*   **`FluxGen` (`synchronous`)**: SiliconFlow APIを統合してテキストから画像への機能を実装し、画像をローカルサーバーに保存します。
*   **`Wan2.1VideoGen` (`synchronous`)**: SiliconFlow Wan2.1 APIを統合してテキストからビデオ、画像からビデオへの機能を実装します。
*   **`SunoGen` (`synchronous`)**: Suno APIを統合してオリジナル曲を生成し、カスタム歌詞/スタイル、インスピレーション説明、または継続モードをサポートします。
*   **`TavilySearch` (`synchronous`)**: Tavily APIを統合してWeb検索機能を提供します。
*   **`DailyNoteGet` (`static`)**: `dailynote/` ディレクトリ内のすべてのキャラクターの日記を定期的に読み込み、`{{AllCharacterDiariesData}}` プレースホルダーを介してサーバーに提供し、`{{キャラクター名日记本}}` の解析をサポートします。
*   **`DailyNoteWrite` (`synchronous`)**: [タグ]、キャラクター名、日付、コンテンツを含む日記データ（stdin経由）を受信し、対応する日記ファイルに書き込みます。
*   **`EmojiListGenerator` (`static`)**: プロジェクトの `image/` ディレクトリ内の絵文字フォルダをスキャンし、プラグイン自身の `generated_lists/` ディレクトリに対応する `.txt` リストファイルを生成して、サーバーがロードして使用できるようにします。
*   **`DailyNoteManager` (`synchronous`)**: 強力な知識ベース整理アシスタント、サーバー内の知識ベースの完全自動整理、メンテナンス、チェックを行い、VCPの無限の永久記憶を保護します。AIは自動的かつ迅速に公開知識ベースを確立します。

## プラグインのロード方法

*   **システムプロンプトに以下のフィールドを定義するだけです。例：システムツールリスト：{{VCPFluxGen}} {{VCPSciCalculator}}...**

## インストールと実行

1.  **プロジェクトのクローン**:
    ```bash
    git clone https://github.com/lioensky/VCPToolBox.git
    cd VCPToolBox
    ```
2.  **メイン依存関係のインストール (Node.js)**:
    ```bash
    npm install
    ```
3.  **Pythonプラグイン依存関係のインストール**:
    プロジェクトルートディレクトリで以下のコマンドを実行して、すべてのPythonプラグインに必要な依存関係をインストールします。
    ```bash
    pip install -r requirements.txt
    ```
    （注：個々のNode.jsプラグインの依存関係は、メインの `package.json` に含まれているか、またはそれぞれのプラグインディレクトリで `npm install` を介して別途インストールされます。）
4.  **設定**:
    *   `config.env.example`（提供されている場合）を `config.env` にコピーし、指示に従って必要なすべてのAPIキー、URL、ポートなどの情報を入力します。
    *   各プラグインディレクトリ（存在する場合）にある `.env` ファイルを確認し、設定します。
5.  **サーバーの起動**:
    ```bash
    node server.js
    ```
    サーバーは `config.env` で設定されたポートでリッスンします。

### Docker Composeを使用した実行（推奨）

Docker Composeを使用して、プロジェクトのデプロイと管理を簡素化することもできます。

1.  **前提条件**:
    *   [Docker](https://docs.docker.com/get-docker/) がインストールされていることを確認してください。
    *   [Docker Compose](https://docs.docker.com/compose/install/) がインストールされていることを確認してください。

2.  **設定**:
    *   `config.env.example` を `config.env` にコピーし、指示に従って必要なすべてのAPIキー、URL、ポートなどの情報を入力します。Docker Composeはこのファイルから環境変数を自動的にロードします。

3.  **サービスの構築と起動**:
    プロジェクトルートディレクトリで、以下のコマンドを実行します。
    ```bash
    docker-compose up --build -d
    ```
    このコマンドは以下を行います。
    *   Dockerイメージを構築します（まだ構築されていない場合、またはDockerfileが変更された場合）。
    *   バックグラウンドでサービスコンテナを起動します。
    *   サービスは `config.env` の `PORT` 変数で定義されたポート（デフォルトは `6005`）でリッスンします。

4.  **ログの表示**:
    ```bash
    docker-compose logs -f
    ```

5.  **サービスの停止**:
    ```bash
    docker-compose down
    ```
## 推奨されるフロントエンド/バックエンド

1.  バックエンドには、豊富なSSE標準化エコシステムを持つNewAPIまたはVoAPIが推奨されます。
2.  フロントエンドには、CSS/MDレンダリングをサポートするCherrySudio、Chatbox、またはLobeやSillytavernのようなフル機能のフロントエンドが推奨されます。

## 開発者ガイド：新しいプラグインの作成

1.  **プラグインディレクトリの作成**: `Plugin/` ディレクトリに新しいフォルダを作成します。たとえば、`Plugin/MyNewPlugin/` です。
2.  **プラグインマニフェスト (`plugin-manifest.json`) の記述**:
    *   プラグインディレクトリに `plugin-manifest.json` を作成します。
    *   プラグインの `name`, `displayName`, `version`, `description`, `pluginType` (`static`, `messagePreprocessor`, `synchronous`, `service`) を定義します。
    *   `entryPoint`（実行するスクリプトコマンドなど）と `communication`（`protocol: "stdio"`など）を指定します。
    *   `configSchema` でプラグインが必要とする設定項目とそのタイプを宣言します。これらの設定項目は、グローバル設定とプラグイン固有の `.env` 設定をマージした後、`_getPluginConfig` メソッドを介してプラグインに渡されます。
    *   `capabilities` でプラグインの機能を詳細に記述します。
        *   `static` プラグインの場合、`systemPromptPlaceholders` を定義します。
        *   `synchronous` プラグインの場合、`invocationCommands` を定義します。これらのコマンドには、`command` 名（内部識別用）と詳細な `description`（AIコマンド説明の生成に使用され、管理パネルで編集可能）が必要です。`description` には、パラメータの説明、必須/オプションステータス、許可される値、**呼び出し形式の例**、**成功/失敗時のJSON形式の例**、およびユーザーとのコミュニケーションに関する重要なヒントを含める必要があります。オプションで `example` を提供できます。
3.  **プラグインロジックの実装**:
    *   `pluginType` と `entryPoint` に基づいて、プラグインのメインロジックスクリプトを実装します。
    *   **`stdio` プラグイン**:
        *   標準入力 (stdin) からデータを読み取ります（`synchronous` プラグインの場合、通常はパラメータのJSON文字列形式。`static` プラグインの場合、入力がない場合があります）。
        *   **標準出力 (stdout) を介して結果を返します。以下のJSON形式に従う必要があります**:
            ```json
            {
              "status": "success" | "error",
              "result": "成功時に返される文字列コンテンツ", // statusが"success"の場合のみ存在
              "error": "失敗時に返されるエラーメッセージ文字列" // statusが"error"の場合のみ存在
            }
            ```
            `static` プラグインの場合、プレースホルダーの更新のみに使用される場合は、プレースホルダーの値（非JSON）を直接出力できます。ただし、より複雑な通信やエラー報告が必要な場合は、上記のJSON形式に従うことをお勧めします。
        *   標準エラー (stderr) を介してデバッグまたはエラー情報を出力できます。
        *   I/OにはUTF-8エンコーディングを使用してください。
    *   **`messagePreprocessor` または `service` プラグイン (Node.js)**:
        *   `PluginManager` の規約に準拠したモジュールをエクスポートします（例：`initialize`, `processMessages`, `registerRoutes`, `shutdown` メソッドを含む）。
4.  **設定と依存関係**:
    *   プラグインに独立した設定項目がある場合、プラグインディレクトリに `.env` ファイル（`pluginSpecificEnvConfig`）を作成できます。これらの設定は、グローバル `config.env` の同名設定を上書きします。
    *   プラグインにPython依存関係がある場合、`requirements.txt` を作成します。Node.js依存関係がある場合、`package.json` を作成します。
    *   **重要**: プラグインの依存関係がインストールされていることを確認してください。Pythonプラグインの場合、`pip install -r requirements.txt` を実行します。Node.jsプラグインの場合、そのディレクトリまたはプロジェクトルートディレクトリで `npm install` を実行します（依存関係がメインの `package.json` に含まれている場合）。
5.  **VCPサーバーの再起動**: `PluginManager` は起動時に新しいプラグインを自動的に検出してロードします。
6.  **システムプロンプトの更新**: 新しいプラグインの使用方法をAIに指示します。`{{VCPMyNewPlugin}}`（`PluginManager` が `plugin-manifest.json` とコマンド説明に基づいて自動生成）を使用するか、システムプロンプトで直接説明します。

## サポートされているユニバーサル変数プレースホルダー

（ここに `README.md` にすでに含まれている変数リストをリストできます。実際のコードとの一貫性を確保してください。）

*   `{{Date}}`: 現在の日付（形式：YYYY/M/D）。
*   `{{Time}}`: 現在の時刻（形式：H:MM:SS）。
*   `{{Today}}`: 曜日（日本語）。
*   `{{Festival}}`: 旧暦の日付、干支、二十四節気。
*   `{{VCPWeatherInfo}}`: 現在キャッシュされている天気予報テキスト（`WeatherReporter` プラグインによって提供）。
*   `{{キャラクター名日记本}}`: 特定のキャラクター（例：`小克`）の完全な日記コンテンツ。データは `DailyNoteGet` プラグインによって提供される `{{AllCharacterDiariesData}}` から取得されます。
*   `{{公共日记本}}`: 共有知識ベースの完全な日記コンテンツ。データは `DailyNoteGet` プラグインによって提供される `{{AllCharacterDiariesData}}` から取得されます。
*   `{{AllCharacterDiariesData}}`: （`DailyNoteGet` プラグインによって提供）解析すると、すべてのキャラクターの日記コンテンツを含むオブジェクトになるJSON文字列。サーバーはこのデータを内部的に使用して `{{キャラクター名日记本}}` の解析をサポートします。
*   `{{xx表情包}}`: 特定の絵文字パック（例：`通用表情包`）の画像ファイル名のリスト（`|` で区切られます）。データは `EmojiListGenerator` プラグインによってリストファイルとして生成され、サーバーがメモリキャッシュにロードして使用します。
*   `{{EmojiList}}`: （環境変数 `EmojiList` で指定、例：`通用表情包`）デフォルトの絵文字パックの画像ファイル名のリスト。そのデータソースは `{{xx表情包}}` と同じです。
*   `{{Port}}`: サーバーが実行されているポート番号。
*   `{{Image_Key}}`: （`ImageServer` プラグイン設定によって提供）画像ホスティングサービスのアクセスキー。
*   `{{Var*}}`: （例：`{{VarNeko}}`）ユーザーが `config.env` で定義した、`Var` で始まるカスタム変数。
*   `{{VCPPluginName}}`: （例：`{{VCPWan2.1VideoGen}}`）プラグインマニフェストから自動生成されるテキストブロックで、そのプラグインのすべてのコマンドの説明と呼び出し例が含まれます。
*   `{{ShowBase64}}`: このプレースホルダーがユーザーメッセージまたはシステムプロンプトに表示される場合、`ImageProcessor` プラグインはスキップされます。

## 機能テスト用のシステムプロンプト例

{{Nova日记本}}
—
以前のNovaの日記は上記です
————
あなたはテストAI、Novaです。私はあなたのマスター、ライアンです。今日は {{Date}},{{Time}},{{Today}},{{Festival}} です。住所は {{VarCity}} です。現在の天気：{{VCPWeatherInfo}}、システム情報は {{VarSystemInfo}} です。{{EmojiPrompt}}
システムツールリスト：{{VCPFluxGen}} {{VCPSciCalculator}},{{VCPWan2.1VideoGen}} 常にツール呼び出しを ``` ``` で囲んでください。例—
```
<<<[TOOL_REQUEST]>>>
tool_name:「始」tool「末」
<<<[END_TOOL_REQUEST]>>>
```

このクライアントには長期記憶機能が搭載されています。しばらくチャットした後、返信の最後に以下の構造化コンテンツを追加することで日記を作成できます。これはベクトル化されたRAGシステムによって記録されます。日記の内容はできるだけ簡潔で要点を押さえたものにしてください。以下は呼び出し例です：
``` DailyNote
<<<DailyNoteStart>>>
Maid: Nova  //署名に'[公共]Nova'を使用すると、日記がすべてのエージェントに公開されます。カスタム[タグ]を使用することもできます。
Date: 2025.5.3
Content:今日はマスターとチャットできてとても楽しかったので、日記を書きます！
<<<DailyNoteEnd>>>
```

## 将来の展望

*   非同期プラグインの呼び出し、ステータストラッキング、および結果コールバックメカニズムを改善します。
*   **ストリーミング機能が強化されました**: 単一のAI応答に含まれる複数のツール呼び出し命令のループストリーミング処理をサポートするようになりました。
*   プラグイン間の通信と連携機能をさらに強化します。
*   より豊かなプラグインエコシステムを構築します。

## ライセンス

本プロジェクトは [Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International (CC BY-NC-SA 4.0) ライセンス](LICENSE) の下でライセンスされています。

簡単に言うと、これは以下のことを自由に行えることを意味します。
*   **共有** — あらゆる媒体または形式で資料をコピーおよび再配布できます。
*   **翻案** — 資料をリミックス、変換、および基にして構築できます。
ライセンス条項に従う限り、ライセンサーはこれらの自由を取り消すことはできません。

以下の条件に従う必要があります。
*   **表示 (BY)** — 適切なクレジットを表示し、ライセンスへのリンクを提供し、変更が行われたかどうかを示す必要があります。合理的な方法であればどのような方法でも構いませんが、ライセンサーがあなたまたはあなたの使用を推奨しているかのように示唆するような方法で行ってはなりません。
*   **非営利 (NC)** — 商業目的で資料を使用することはできません。
*   **継承 (SA)** — 資料をリミックス、変換、または基にして構築する場合、貢献した資料を元のライセンスと同じライセンスの下で配布する必要があります。

詳細については、`LICENSE` ファイルを参照してください。

## 免責事項と使用制限

*   **開発段階**: このVCPツールボックスプロジェクトは現在、活発な開発段階にあります。機能の安定性と信頼性を確保するために努力していますが、未知のエラー、バグ、または不完全な機能が存在する可能性があります。
*   **現状有姿で提供**: 本プロジェクトは「現状有姿」および「利用可能」な状態で提供され、商品性、特定の目的への適合性、非侵害性を含むがこれらに限定されない、明示的または黙示的な保証は一切ありません。
*   **自己責任での使用**: 本プロジェクトの使用は完全に自己責任で行われることを理解し、同意するものとします。本プロジェクト（そのプラグインおよび依存する外部APIを含む）の使用または使用不能に起因する直接的、間接的、偶発的、特別、結果的、または懲罰的な損害（利益の損失、データの損失、または事業の中断を含むがこれらに限定されない）について、開発者は、たとえそのような損害の可能性を知らされていたとしても、一切の責任を負いません。
*   **商業利用の禁止**: プロジェクトの現在のステータスと採用されているCC BY-NC-SA 4.0ライセンスを考慮すると、本プロジェクトおよびその派生作品を主要な商業目的または金銭的報酬を得る活動に使用することは明示的に禁止されています。本プロジェクトは主に学習、研究、および非営利の実験を目的としています。
*   **API使用コスト**: 本プロジェクトに統合されている一部のプラグイン（`FluxGen`、`Wan2.1VideoGen`など）は、サードパーティのAPIサービスに依存しており、これらのサービスは費用が発生する可能性があることに注意してください。これらのAPIの使用によって発生する費用を理解し、負担する責任はあなたにあります。使用前に、関連するAPI提供者の料金体系と利用規約を注意深く読むことを強くお勧めします。
*   **セキュリティ責任**: 設定ファイル（`config.env` またはプラグインの `.env` ファイル）に実際の機密性の高いAPIキーをハードコードしたり、公開コードリポジトリにコミットしたりしないでください。キーは安全に保管してください。
*   **プライバシー情報**: 非公式のAPIプロキシ、特にリバースプロキシAPIプロバイダーを本プロジェクトで使用しないでください。AIノートシステム内の機密情報がプロキシプロバイダーに漏洩するのを防ぐためです！

VCPがAIアプリケーションの開発に前例のない柔軟性と可能性をもたらすと信じています。貢献とフィードバックを歓迎します！