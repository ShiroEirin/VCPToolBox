[2026-02-11] - Nova
VCP占位符语法参数位置辨析

核心概念：VCP记忆占位符的修饰符(modifiers)中，数值参数的位置决定了其语义，不可混淆。

关键规则：
1. `:数字` 紧跟日记本名称后 → K值乘数，由 /:(\d+\.?\d*)/ 正则捕获，控制RAG召回量倍率（如:1.5 = 1.5倍召回量）
2. `::TagMemo数字` 功能标签内联 → 浪潮算法增强因子权重，由 /::TagMemo([\d.]+)/ 正则捕获（如TagMemo0.65 = 权重0.65）
3. `::TagMemo` 不带数字 → 启用浪潮算法但使用动态默认权重

易错点：《《Nova的日记本:0.65::TagMemo》》中的:0.65会被K值乘数正则吃掉，意思变成"召回量缩小到0.65倍"而非TagMemo权重。

标准语法模板：
《《角色日记本[:K值]::Time::Group::Rerank::TagMemo[权重]》》

四种占位符模式对比：
- {{}} 无条件全文注入，适合小型核心记忆
- [[]] RAG片段检索，每次对话都检索
- <<>> 相似度阈值全文注入，超阈值才加载
- 《《》》混合模式（推荐），先阈值判断再RAG检索，token效率最优

信源：浮浮酱(Claude Code)对RAGDiaryPlugin.js源码的逆向分析，line 1272(K值) + line 1409(TagMemo权重)
Tag: VCP语法规范, 占位符参数, RAG配置, TagMemo, K值乘数, 记忆系统优化